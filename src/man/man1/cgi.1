.TH CGI 1ICD "User Commands"
.UC 4
.SH NAME
cgi - convert GDS II formatted files to an ICD project
.SH SYNOPSIS
.B cgi
[\fB-4cdfglpSsv\fP]
[\fB-m\fP mlist]
[\fB-n\fP ctable]
[\fB-w\fP size]
GDS-files
.SH OPTIONS
.TP
.B -4
Test non-orthogonal input conform \fI45 degree\fP.
.TP
.B -c
Instead of truncating,
\fIconvert GDS text names\fP that are too long to other names.
A name conversion list will automatically be generated.
.TP
.B -d
Enable \fIdebug\fP mode.
.TP
.B -f
Enable the cell \fIforce\fP overwrite mode.
.TP
.B -g
If possible, \fIgo on\fP after error.
.TP
.B -l
Replace '$' characters by '_' characters in names.
.TP
\fB-m\fP mlist
Use this \fImask list\fP instead of the default mask list.
.TP
\fB-n\fP ctable
Use this table to convert \fInames\fP to other names.
.TP
.B -p
Use an alternative algorithm to convert \fIpath\fP elements.
This may solve truncation problems for non-orthogonal path elements.
.TP
.B -S
Enable \fIsilent\fP mode.
.TP
.B -s
Allow unknown elements and layer numbers by \fIskipping\fP the messages.
.TP
.B -v
Enable \fIverbose\fP mode.
.TP
\fB-w\fP size
Use this to specify the \fIwidth\fP of terminals (in lambda)
generated by text structures (default 0).
.SH DESCRIPTION
.I Cgi
reads GDS file(s) and places the structures in the ICD database.
A structure in a GDS file may contain the following elements:
.TP 11
BOUNDARY
(45 degree pathtypes 0,1 and 2, non-45 degree path types 0 and 2 only)
.TP
SREF
(structure reference)
.TP
AREF
(array reference)
.TP
TEXT
(terminal/pin or label/net name definition)
.PP
.I Text elements
are default written as comments to the layout database.
But they can be used as terminal or label names,
see bmlist(4ICD).
.PP
.I Structure names
are mapped to cell names.
If a cell already exists the cell will not be overwritten.
The width of a path must be greater than 0.
You can use this program only in a NELSIS project directory.
.PP
If the GDS database unit is less than lambda
you may lose accuracy (be careful).
Thus,
if you make a new project,
you have to choice a suitable lambda value (in microns).
If you want to change lambda,
use the \fIclambda\fP program.
With the \fIcga\fP program,
you can inspect the GDS file and also find out which database unit
is used in the GDS file (second argument of UNITS record).
.PP
The GDS layer numbers are mapped to the layers of the used process
by a mask list file.
Default this file is the file bmlist.gds in the process directory,
but an alternative file can be specified using the option \fB-m\fP.
For a description of the contents of the mask list file,
see bmlist(4ICD).
Each line of this file contains a mask name, a GDS layer number
and (optionally) a GDS data type or text type number.
Besides that it is specified in this file how boundary and
path elements are stored into the project database,
it is also specified in this file how
text structures are mapped to either terminals/pins or to
labels/net names.
.SH PROPERTIES
A property of an element in the GDSII format
consists of a \fInumber\fP and a \fIvalue\fP.
\fInumber\fP specifies the intended property and \fIvalue\fP specifies
the value of the property.
Properties can be used to e.g. specify instance names with
SREF and AREF elements, and terminal and label names with
BOUNDARY elements.
Below, a table is given of the supported properties,
their default number (if it exists), their expected value type
and their semantics.
The number that is used for a property can be specified in the
mask list file (see bmlist(4ICD)) by specifying on one line
the name of the property followed by the number.
.PP
.TS
l l l s
l l l l.
_
	default	\fIvalue\fP
name	\fInumber\fP	type	semantics.
_
prop_instance	61	\fIstring\fP	\fIvalue\fP specifies the instance
			name of a cell
prop_termlay	60	\fIinteger\fP	\fIvalue\fP specifies the GDS layer
			number of the terminal
prop_term	62	\fIstring\fP	\fIvalue\fP specifies the name of
			the terminal
prop_labellay	<none>	\fIinteger\fP	\fIvalue\fP specifies the GDS layer
			number of the label
prop_label	<none>	\fIstring\fP	\fIvalue\fP specifies the name of
			the label
_
.TE
.PP
.SH NAME CONVERSION
A file that contains a name conversion table can specified using the
option \fB-n\fP.
This file should have on each line an original name and a
name to which the original name is mapped.
.SH AUTHOR(S)
R. Paulussen, A.J. van Genderen, S. de Graaf
.SH LIMITATIONS
GDS layer numbers must be in the range of 0 to 255.
.PP
The following statements are supported:
.PP
.nf
   HEADER, TAPENUM, TAPECODE, UNITS
   BGNLIB, ENDLIB, BGNSTR, ENDSTR, LIBNAME, STRNAME, ENDEL
   BOUNDARY LAYER DATATYPE
   PATH LAYER DATATYPE PATHTYPE(0, 2) WIDTH XY
   AREF/SREF SNAME COLROW XY STRANS ANGLE TEXT
.fi
.PP
BOUNDARY, SREF or AREF statements can contain
PROPATTR PROPVALUE records
.if t .br
(see the PROPERTIES section).
.SH FILES
.ta 42
.if t .ta 3i
.nf
ICDPATH/share/lib/process/\fIproc\fP/bmlist.gds	(def. basic mask list)
NELSISPROJECT/.dmrc	(input file)
NELSISPROJECT/layout/celllist	(input file (updated))
.PP
For each \fIcell\fP written:
.PP
NELSISPROJECT/layout/\fIcell\fP/box	(output file)
NELSISPROJECT/layout/\fIcell\fP/info	(output file)
NELSISPROJECT/layout/\fIcell\fP/mc	(output file)
NELSISPROJECT/layout/\fIcell\fP/nor	(output file)
NELSISPROJECT/layout/\fIcell\fP/term	(output file)
.SH SEE ALSO
cga(1ICD),
cig(1ICD),
clambda(1ICD),
mkpr(1ICD),
bmlist(4ICD).
