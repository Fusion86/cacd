.TH CFUN 1ICD "User Commands"
.UC 4
.SH NAME
cfun - convert function block description into the database
.SH SYNOPSIS
.B cfun
[-kps]
[-C\fIoption\fP]
[-P\fIoption\fP]
infile
.SH OPTIONS
The following options can be specified:
.TP
.B -k
Keep the '.p' and '.c' files that are
generated by the program (do
.B not
remove them).
.TP
.B -p
The C preprocessor
.I cpp
will
.B not
first be run on the input file.
.TP
.B -s
The silent mode suppresses messages about the actions taken by
.I cfun
which are usually printed on the screen.
.TP
.B -C
The characters directly after this option
are used as option for the C compiler
(may be used more than ones).
.TP
.B -P
The characters directly after this option
are used as option for
.I cpp
(may be used more than ones).
.SH DESCRIPTION
.I Cfun
can be used to place a description of a function block into the database.
As a description of a function block is contained by the database,
instances of the function block can be included in a network description
and an appropriate
.I sls
simulator can be generated.
The latter is done by running the program \fIsls_exp\fR.
The description of the function block is stored in the "circuit" view
of the database.
.PP
.I Cfun
will generate a '.c' file from the input description
and it will use the GNU project C compiler
.I gcc
to translate this file into an object file
that can be linked to \fIsls\fP.
When no options are specified,
first the C preprocessor
.I cpp
will be run on the input file
and the intermediate result will be placed in a file with
the extension '.p'.
.SH NOTE
The input file may contain only one description of a function block.
In addition, it may contain all text that is allowed in a C file.
The input file must have an extension.
.SH EXAMPLE
.nf
% cfun -Cg -PI.. -PDdebug ram.fun
.br
/lib/cpp -I.. -Ddebug ram.fun ram.p
.br
Parsing ram.p ; making ram.c
.br
gcc -g -c ram.c
.br
mv ram.o circuit/ram/linux-2.4-i686_sls.o
.fi
.AU "O. Hol"
.SH FILES
.TP 16
\fCfile.fun\fP
input file
.TP
\fCfile.p\fP
temporary file
.TP
\fCfile.c\fP
temporary file
.TP
\fCfile.o\fP
object file (to be stored in the database)
.TP 32
\fCICDPATH/share/src/sls/func.h\fP
include file
.SH SEE ALSO
O. Hol, "Functional Simulation User's Manual",
Delft University of Technology.
.br
cpp(1),
gcc(1),
sls(1ICD),
sls_exp(1ICD),
csls(1ICD).
