% -*- latex -*-

\chapter{Introduction}
\pagenumbering{arabic}
%\pagestyle{fancy}
\section{About this manual}
This document describes the {\sc ocean} tool suite for creating and verifying
Sea-of-Gates layout. First of all: do not get intimidated by the size of this
document. It contains a sizable amount of reference material, so you certainly
don't need to read all of it to get started. We recommend to read the first
chapters, and then do the tutorial in chapter~\ref{tutorial}.

\smc{Ocean}, is a comprehensive chip design
package which was developed at Delft University of Technology, the Netherlands.
It includes a full set of powerful tools for the synthesis and verification of
semi-custom sea-of-gates and gate-array chips.  \smc{Ocean} covers the back-end
of the design trajectory: from circuit level, down to layout and a working
chip.  In a nutshell, \smc{ocean} has the following features:
\begin{itemize}
\item
Hierarchical (full-custom-like) layout style on sea-of-gates.
\item
Powerful tools for placement, routing, simulation and extraction.
Any combination of automatic and interactive manual layout.
\item
Short learning curve makes it suitable for student design courses.
Robust and 'combat-proven' on hundreds of people.
\item
Available for free, including all source code.
Running on popular HP and Sun workstations and on PC, easy installation.
\item
Includes three sea-of-gates images with libraries and template chip.
Interface programs for other tools and systems (SIS, Cadence, etc.)
\end{itemize}

Section~\ref{tooloverview} gives an overview of the structure of the entire
system. In semi-custom layout design we use a \ital{master image} (called just
\ital{image} here), which is the regular pattern containing the transistors. We
explain the way in which {\sc ocean} deals with the images and the cell
libraries on those images in chapter~\ref{s-fishstruct}. In that
chapter we will also go deeper into the sea-of-gates layout design style.

To get started with the system, chapter~\ref{tutorial} contains a simple
step-by-step tutorial. It takes you for a guided tour along the {\sc ocean}
tools.  Using two examples you will get accustomed with operations like circuit
input, circuit simulation, layout synthesis, and layout verification.

In the following chapter the tools in the \smc{ocean} system are described in
more detail. Chapter~\ref{s-programs} starts with listing all tools that are
included in the
\smc{ocean} distribution. 

Chapter~\ref{s-seadali} deals with the tool that is at the very heart of
{\sc ocean}, namely \tool{seadali}.  It is worthwhile to read
this carefully, since it contains many useful hints on how to click the buttons
efficiently.

In chapter~\ref{fish} we have a closer look at the program~\tool{fish}, a tool
to make your layout-cell design rule correct.  Then in the
sections~\ref{madonna} and~\ref{routeman} we describe how to use the automatic
placer and router.  These automatic tools allow you to assemble your cell very
quickly.

Then, in chapter~\ref{s-simeye}, a manual of the interactive simulator program
is included.  Finally, chapter~\ref{s-oplib} describes the 'fishbone'
sea-of-gates library that we include with the distribution.
\section{Overview of the system}
\label{tooloverview}
To get the full perspective of \smc{ocean}, consider the system architecture in
figure~\ref{oceantools}. \index{ocean!system overview|(}
\begin{figure}
\centerline{\psfig{figure=\figdir/tools.eps,width=0.80\linewidth}}
\caption{The main components in the \smc{ocean} Sea-of-Gates
design system. The arrows indicate the design flow. The boxes are
programs (the programs in hashed boxes are not included in the distribution).
The ovals are files or other means of storage such as database.}
\label{oceantools}
\end{figure}
To the left the analysis tools are drawn, while the synthesis programs are
displayed on the right. The bottom half deals with layout, while to top part
deals with circuit descriptions. In this way 4 'quadrants' can be
distinguished. The two big ovals denote the circuit and layout level
descriptions, which are stored in the \smc{nelsis} database.  In general the
design flow in \smc{ocean} looks as follows:
\begin{enumerate}
\item
Functional design and (if possible) functional simulation.
\item
Circuit generation \index{creating!circuit descriptions}(the first quadrant, right top corner in
figure~\ref{oceantools}). The result is a circuit description which is stored
in the \smc{nelsis} database. The circuit can be generated by a logic synthesis
tool or entered manually using a circuit editor. We support two textual input
formats which can converted into or extracted from the database: \ital{sls} and
\ital{edif}.
\item
Circuit simulation (the fourth quadrant, left top corner in
figure~\ref{oceantools}). The circuit is checked for correctness using
simulators like \tool{sls} and \tool{spice}. If necessary, you can modify the
circuit and re-simulate it.  We just repeat this loop until the simulations
indicate the proper operation of the circuit.
\item
\label{whatabout}
Layout generation (the second quadrant, right bottom corner in
figure~\ref{oceantools}). That is, generating a sea-of-gates layout description
which matches the circuit description.
\item
Layout extraction (the third quadrant, left bottom corner in
figure~\ref{oceantools}), to re-extract the transistor net list from the
layout. The extractor also finds the parasitic capacitances and resistances.
\item
Circuit simulation again, to verify the layout and to check the effect of the
parasitics in the layout. If necessary, the circuit description is modified and
a new layout is generated.
\item
If the layout is satisfactory, the cell can be used as a son cell at the next
level of hierarchy. The top level cell in the hierarchy contains the entire
chip. The layout description can be converted into a file for mask generation
and chip fabrication.
\end{enumerate}

You will get accustomed with the program names which are related to the design
flow of figure~\ref{oceantools}. A list of them can be found in
chapter~\ref{s-programs}. The easiest way to do this, however, is just
'learning by doing'. Therefore we suggest to follow the tutorial of
chapter~\ref{tutorial}.

The two big ovals denote the circuit and layout level descriptions, which are
stored in the \smc{nelsis} database. All tools read and write from this
database. Nelsis is an open database, which allows you to plug in new tools or
formats. For more information on the details of the database, we refer to the
{\sl Nelsis IC Design system User's manual}, which can be obtained through the
authors.

The hierarchical layout design style is the key feature of \smc{ocean}. It
allows you to structure the layout in the same way as the circuit. Larger
structured blocks (such as registers, \smc{ram}, \smc{alu}) can be designed
efficiently, much in the same way as on a full-custom chip, but at the cost and
design speed of a gate-array.  Many levels of hierarchy may be use to smash the
complexity and to speed up design.  Unlike other standard-cell, gate-array or
sea-of-gates design packages, there is no need to break up the entire circuit
into a two-level hierarchy with small equal-sized modules. From our experience,
\smc{ocean}'s unique clear and visible relation between layout and circuit has
many advantages. Not only does it give the novice user (e.g. student) a better
comprehension of the design, it also allows expert designers and tools to make
better use of the inherent structure and regularity of the circuit.
\index{ocean!system overview|)}

Figure~\ref{f-minimove} depicts the layout of a microprocessor that was
developed with the \smc{ocean} sea-of-gates design system. This picture clearly
shows that the hierarchy and the regularity of the micropressor circuit is
preserved in its layout.
\begin{figure}
\centerline{\psfig{figure=\figdir/minimove.eps,width=0.95\textwidth}}
\caption{\index{ocean!example of a chip}
The layout of the \smc{minimove} microprocessor, developed with the \smc{ocean}
sea-of-gates design system. This microprocessor is capable of executing three
native instructions in parallel.  At a clockspeed of 30 MHz, this allows a
maximum throughput of 90 native MIPS. The first stage in the realization of
this processor --circuit design and simulation-- took 4 man-days of work. The
main tools involved where \tool{csls}, \tool{simeye} and \tool{sls}. The second
stage of the design --layout design, extraction and simulation-- took another 4
man-days of work. This involved the tools \tool{seadali}, \tool{madonna} and
\tool{trout} for the layout synthesis and \tool{space} for the layout
extraction. Simulation of the extracted circuit was again done with
\tool{simeye} and \tool{sls}. Almost the entire layout of the \smc{minimove} is
based on the library cells from "oplib1\_93" that is distributed with the
\smc{ocean} sea-of-gates design system. The cells in this library implement
static complementary \smc{mos} gates and transmission gates on the
\sl{fishbone} image.  }
\label{f-minimove}
\end{figure}

\section{How to retrieve the \protect\smc{ocean} system?}
The entire \smc{ocean} system is available for free as part of the free \smc{space} distribution and
can be downloaded via the \smc{space} web-site ( http://www.space.tudelft.nl ).
First, a special address to those nasty lawyers, in particular the
American ones: \index{ocean!copyrights}
\begin{itemize}
\item
\smc{Ocean} is a sea-of-gates chip design package designed at Delft 
University of Technology in the Netherlands. Copyright \copyright 1992,1993
Patrick Groeneveld and Paul Stravers.
\item
The \smc{ocean} package is free software; you can redistribute it and/or modify
it under the terms of the ISC License.
\item
The software and libraries are being provided on an 'as is' basis.
\item
The software and libraries have no warranties and no provisions for support or
future enhancements. So the system is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE, or that the use of it
will not infringe any patent or copyright.  See the ISC License for more details.
\item
Delft University and its employees have no liability in connection with the use
of the software.
\end{itemize}

If you have any questions or problems, just contact the \smc{space} support team:

\begin{tabbing}
nnnnnnnnnn \= phones \= xxx \kill
\> Nick van der Meijs or Simon de Graaf\\
\> Circuit and Systems Group, Electrical Engineering Faculty\\
\> Delft University of Technology\\
\> The Netherlands\\
\> Email: \> space-support-ewi@tudelft.nl
\end{tabbing}

\section{How to run the \protect\smc{ocean} tools?}
Before you can run the \smc{ocean} tools, you or your system administrator must
install the system on your computer. (You do not need root access to install
\smc{ocean}, but you do need at least 30 Megabytes disk space). A detailed
description of the install procedure is in the file \file{INSTALLATION} 
\index{installation@\fname{INSTALLATION} file}
that comes with the \smc{ocean} distribution. 
\index{ocean!installing the system}

The users of \smc{ocean} tools must set up an environment before they can
start. This includes adding a few directories to their \$PATH environment, and
setting a bunch of other environment variables. The same \file{INSTALLATION}
file describes the required user setup in detail.

\newpage
\section{Additional information and related documents}
Although we tried, this manual is by no means complete. After or even during
the reading this document, you might wish to consult the following items:
\begin{itemize}
\item
{\em SLS: Switch-Level Simulator User's Manual} by Arjan van Genderen and
Sander de Graaf\\
Describes the logic and switch-level simulator \tool{sls} and the {\sl sls}
circuit description language. This manual is included as pdf file in the
distribution ('sls.pdf', 43 pages).
A related document is {\sl Functional Simulation User's Manual} (Oscal Hol, 46 pages),
which describes the use of functional modules in the \tool{sls} simulator. Also
available in the distribution as file 'funman.pdf'.
\item
{\em Space User's Manual} by Nick van der Meijs, Arjan van Genderen e.a.\\
Describes the powerful layout to circuit extractor \tool{space} in full detail.
Also included as pdf file in the distribution ('spaceman.pdf', 68 pages).
Related to this manual is the {\sl Space Tutorial} (30 pages, file 'spacetutor.pdf').
\item {\em SIS: A System for Sequential Circuit Synthesis} 
by Ellen M. Santovich, Kanwar Jit Singh, Luciano Lavagno, Cho Moon, Rajeev
Murgai, Alexander Saldanha, Hamid Savoj, Paul R. Stephan, Robert K. Brayton and
Alberto Sangiovanni-Vincentelli.  Department of Electrical Engineering and
Computer Science, University of California, Berkeley, CA 94720. (1992).\\
Describes how to use the \tool{SIS} logic synthesis tool from the UC Berkeley.
For convenience, we included it as a pdf file in the distribution ('SIS\_paper.pdf', 45 pages).
\item
On-line documentation: \tool{icdman}, \tool{icddoc}
or the tool '-h' option\\
Just type \type{icdman simeye} to get the tool
\index{icdman@\tool{icdman}}
description of \tool{simeye}. This works similarly for any other nelsis tool.
For the \smc{ocean}-tools the '-h' option is useful. They'll print a short
summary of their usage. For instance, type 'madonna -h' to get a brief
description and a list of options.
\item
{\em The NELSIS IC design system
manuals}\\ A three-volume set of manuals of the \smc{nelsis} design system. The
previous manuals and items are contained in this set.  Available through the
authors.
\item
{\em Studentenhandleiding Ontwerppracticum}\\
This is the elaborate student's
manual (250 pages) for the second year chip design course at Delft University of
Technology.  Unfortunately it is in Dutch. It contains all information the
students need. Available from the Diktatenverkoop electrical engineering, or
through the authors.
\end{itemize}
